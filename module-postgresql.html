<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 12. PostgreSQL</title><link rel="stylesheet" type="text/css" href="style.css" /><link rel="stylesheet" type="text/css" href="highlight/github.css" /><script src="highlight/highlight.pack.js" type="text/javascript"></script><script src="highlight/init.js" type="text/javascript"></script><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="NixOS Manual" /><link rel="up" href="ch-configuration.html" title="Part II. Configuration" /><link rel="prev" href="sec-kernel-config.html" title="Chapter 11. Linux Kernel" /><link rel="next" href="ch-running.html" title="Part III. Administration" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 12. PostgreSQL</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sec-kernel-config.html">Prev</a> </td><th width="60%" align="center">Part II. Configuration</th><td width="20%" align="right"> <a accesskey="n" href="ch-running.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="module-postgresql"></a>Chapter 12. PostgreSQL</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="module-postgresql.html#idm140737316719232">12.1. Configuring</a></span></dt><dt><span class="section"><a href="module-postgresql.html#idm140737316713536">12.2. Upgrading</a></span></dt><dt><span class="section"><a href="module-postgresql.html#idm140737316712320">12.3. Options</a></span></dt></dl></div><p><span class="emphasis"><em>Source:</em></span> <code class="filename">modules/services/databases/postgresql.nix</code></p><p><span class="emphasis"><em>Upstream documentation:</em></span> <a class="link" href="http://www.postgresql.org/docs/" target="_top">http://www.postgresql.org/docs/</a></p><p>PostgreSQL is an advanced, free relational database.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140737316719232"></a>12.1. Configuring</h2></div></div></div><p>To enable PostgreSQL, add the following to your
<code class="filename">configuration.nix</code>:

</p><pre class="programlisting">
services.postgresql.enable = true;
services.postgresql.package = pkgs.postgresql94;
</pre><p>

Note that you are required to specify the desired version of
PostgreSQL (e.g. <code class="literal">pkgs.postgresql94</code>). Since
upgrading your PostgreSQL version requires a database dump and reload
(see below), NixOS cannot provide a default value for
<code class="option">services.postgresql.package</code> such as the most recent
release of PostgreSQL.</p><p>By default, PostgreSQL stores its databases in
<code class="filename">/var/db/postgresql</code>. You can override this using
<code class="option">services.postgresql.dataDir</code>, e.g.

</p><pre class="programlisting">
services.postgresql.dataDir = "/data/postgresql";
</pre><p>

</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140737316713536"></a>12.2. Upgrading</h2></div></div></div><p>FIXME: document dump/upgrade/load cycle.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140737316712320"></a>12.3. Options</h2></div></div></div><p>FIXME: auto-generated list of module options.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sec-kernel-config.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch-configuration.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch-running.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 11. Linux Kernel </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Part III. Administration</td></tr></table></div></body></html>